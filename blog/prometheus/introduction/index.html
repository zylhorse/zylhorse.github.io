<!doctype html>
<html lang="zh-cn">
  <head>
  <meta charset="utf-8">
<title>Prometheus-简介 - zylhorse blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="shortcut icon" href="/img/favicon/favicon-32x32.ico?v=1">

<meta name="generator" content="Hugo 0.93.0-DEV" /><meta itemprop="name" content="Prometheus-简介">
<meta itemprop="description" content="Prometheus是一个开源的系统监控和报警工具，最初由SoundCloud构建。 从2012年开始编写，2015年开源后很多公司和组织采用Prometheus, 该项目有很多活跃的开发者和用户社区。现在Prometheus作为独立的开源项目， 独立于任何的公司。 为了强调这一点，并阐明该项目的组织结构， Prometheus在2016年加入CNCF,成为继Kubernetes后的第二个成员。
了解更多的Prometheus信息，可以参考Awesome
特性  多维数据模型，其时间序列数据由metric名称和labels键值对构成 PromQL是一种灵活的查询语句，来利用这个维度 不依赖分布式存储；单服务器节点是自治的， 支持local和remote多种模式 通过http协议的pull模式，采集时序数据 支持通过中间网关推送时序 监控目标，采用服务发现或者静态配置 支持多模式的图形和仪表盘展现  组件 Prometheus生态由很多组件组成，它们大多数是可选的：
 Prometheus server，它负责时序数据的收集和存储 Client libraries,对接Prometheus server，上报和查询数据 push gateway, 用于短期业务的监控数据推送 exporters, 用于指定服务的exporter，e.g., node exporter, redis exporter, mysql exporter alertmanager, 用于告警通知管理  架构 下图说明了Prometheus的基础架构和生态系统中的一些组件:
从上图可以看到：
 监控目标, 可以是静态配置或者服务发现 获取metrics, 可以直接从监控目标拉取，或者拉取监控目标推送到push gateway的数据 当采样的数据大于配置的缓存区大小时，Prometheus将数据持久化到local或remote 当配置alert rules时， Prometheus会定时查询数据，当规则被触发的时候，生成alert并推送到Alertmanager Alertmanager收到alert， 根据配置对alert去重，聚合，降噪， 通过email,pagerduty等途径进行告警 使用Prometheus web ui,Grafana或API等对收集的数据进行可视化  适用于 Prometheus记录纯数字的时序数据。既适用于以机器为中心的监控，也适用于面向服务架构的监控。在微服务的世界里， 其优势是支持对多维数据的收集和查询。
Prometheus是为可靠性设计的， 当系统在运行时出现问题时，可以帮助你快速的定位问题。每个Prometheus服务都是独立的， 不依赖于任何网络、存储或其它远程服务。 当其他基础设施出现问题时，你可以依赖它，并且使用Prometheus不需要安装额外的基础设施。
不适用于 Prometheus的值是可靠的。可以随时查看你系统的可用统计信息，即使在故障的条件下。如果你需要100%的精确度，例如每个请求的计费， Prometheus不是一个很好的选择，因为其收集的信息不够详细和完整， 仅收集某个时间段的数据。在这种情况下，你最好使用专门的审计系统。"><meta itemprop="datePublished" content="2021-09-24T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-09-24T00:00:00+00:00" />
<meta itemprop="wordCount" content="74">
<meta itemprop="keywords" content="," /><meta property="og:title" content="Prometheus-简介" />
<meta property="og:description" content="Prometheus是一个开源的系统监控和报警工具，最初由SoundCloud构建。 从2012年开始编写，2015年开源后很多公司和组织采用Prometheus, 该项目有很多活跃的开发者和用户社区。现在Prometheus作为独立的开源项目， 独立于任何的公司。 为了强调这一点，并阐明该项目的组织结构， Prometheus在2016年加入CNCF,成为继Kubernetes后的第二个成员。
了解更多的Prometheus信息，可以参考Awesome
特性  多维数据模型，其时间序列数据由metric名称和labels键值对构成 PromQL是一种灵活的查询语句，来利用这个维度 不依赖分布式存储；单服务器节点是自治的， 支持local和remote多种模式 通过http协议的pull模式，采集时序数据 支持通过中间网关推送时序 监控目标，采用服务发现或者静态配置 支持多模式的图形和仪表盘展现  组件 Prometheus生态由很多组件组成，它们大多数是可选的：
 Prometheus server，它负责时序数据的收集和存储 Client libraries,对接Prometheus server，上报和查询数据 push gateway, 用于短期业务的监控数据推送 exporters, 用于指定服务的exporter，e.g., node exporter, redis exporter, mysql exporter alertmanager, 用于告警通知管理  架构 下图说明了Prometheus的基础架构和生态系统中的一些组件:
从上图可以看到：
 监控目标, 可以是静态配置或者服务发现 获取metrics, 可以直接从监控目标拉取，或者拉取监控目标推送到push gateway的数据 当采样的数据大于配置的缓存区大小时，Prometheus将数据持久化到local或remote 当配置alert rules时， Prometheus会定时查询数据，当规则被触发的时候，生成alert并推送到Alertmanager Alertmanager收到alert， 根据配置对alert去重，聚合，降噪， 通过email,pagerduty等途径进行告警 使用Prometheus web ui,Grafana或API等对收集的数据进行可视化  适用于 Prometheus记录纯数字的时序数据。既适用于以机器为中心的监控，也适用于面向服务架构的监控。在微服务的世界里， 其优势是支持对多维数据的收集和查询。
Prometheus是为可靠性设计的， 当系统在运行时出现问题时，可以帮助你快速的定位问题。每个Prometheus服务都是独立的， 不依赖于任何网络、存储或其它远程服务。 当其他基础设施出现问题时，你可以依赖它，并且使用Prometheus不需要安装额外的基础设施。
不适用于 Prometheus的值是可靠的。可以随时查看你系统的可用统计信息，即使在故障的条件下。如果你需要100%的精确度，例如每个请求的计费， Prometheus不是一个很好的选择，因为其收集的信息不够详细和完整， 仅收集某个时间段的数据。在这种情况下，你最好使用专门的审计系统。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zylhorse.github.io/blog/prometheus/introduction/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-09-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-09-24T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Prometheus-简介"/>
<meta name="twitter:description" content="Prometheus是一个开源的系统监控和报警工具，最初由SoundCloud构建。 从2012年开始编写，2015年开源后很多公司和组织采用Prometheus, 该项目有很多活跃的开发者和用户社区。现在Prometheus作为独立的开源项目， 独立于任何的公司。 为了强调这一点，并阐明该项目的组织结构， Prometheus在2016年加入CNCF,成为继Kubernetes后的第二个成员。
了解更多的Prometheus信息，可以参考Awesome
特性  多维数据模型，其时间序列数据由metric名称和labels键值对构成 PromQL是一种灵活的查询语句，来利用这个维度 不依赖分布式存储；单服务器节点是自治的， 支持local和remote多种模式 通过http协议的pull模式，采集时序数据 支持通过中间网关推送时序 监控目标，采用服务发现或者静态配置 支持多模式的图形和仪表盘展现  组件 Prometheus生态由很多组件组成，它们大多数是可选的：
 Prometheus server，它负责时序数据的收集和存储 Client libraries,对接Prometheus server，上报和查询数据 push gateway, 用于短期业务的监控数据推送 exporters, 用于指定服务的exporter，e.g., node exporter, redis exporter, mysql exporter alertmanager, 用于告警通知管理  架构 下图说明了Prometheus的基础架构和生态系统中的一些组件:
从上图可以看到：
 监控目标, 可以是静态配置或者服务发现 获取metrics, 可以直接从监控目标拉取，或者拉取监控目标推送到push gateway的数据 当采样的数据大于配置的缓存区大小时，Prometheus将数据持久化到local或remote 当配置alert rules时， Prometheus会定时查询数据，当规则被触发的时候，生成alert并推送到Alertmanager Alertmanager收到alert， 根据配置对alert去重，聚合，降噪， 通过email,pagerduty等途径进行告警 使用Prometheus web ui,Grafana或API等对收集的数据进行可视化  适用于 Prometheus记录纯数字的时序数据。既适用于以机器为中心的监控，也适用于面向服务架构的监控。在微服务的世界里， 其优势是支持对多维数据的收集和查询。
Prometheus是为可靠性设计的， 当系统在运行时出现问题时，可以帮助你快速的定位问题。每个Prometheus服务都是独立的， 不依赖于任何网络、存储或其它远程服务。 当其他基础设施出现问题时，你可以依赖它，并且使用Prometheus不需要安装额外的基础设施。
不适用于 Prometheus的值是可靠的。可以随时查看你系统的可用统计信息，即使在故障的条件下。如果你需要100%的精确度，例如每个请求的计费， Prometheus不是一个很好的选择，因为其收集的信息不够详细和完整， 仅收集某个时间段的数据。在这种情况下，你最好使用专门的审计系统。"/>
<link rel="stylesheet" href="/css/bundle.min.e6b64d256349a1e498e56d1c2593ba6a2f46192823f7f0403a175b4bb8f2ee84.css" integrity="sha256-5rZNJWNJoeSY5W0cJZO6ai9GGSgj9/BAOhdbS7jy7oQ="><link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          博客
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/" class="nav link"><i class='fas fa-home'></i> 主页</a>
        
      
        
          
          <a href="/blog/" class="nav link"><i class='far fa-newspaper'></i> 博客</a>
        
      
        
          
          <a href="/categories/" class="nav link"><i class='fas fa-sitemap'></i> 分类</a>
        
      
        
          
          <a href="/tags/" class="nav link"><i class='fas fas fa-tags'></i> 标签</a>
        
      
        
          
          <a href="/about/" class="nav link"><i class='far fa-id-card'></i> 关于</a>
        
      
      
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    
    
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  
  
</header>

    <main id="site-main">
      
  <article class="post">
    <header>
  <div class="title">
    
      <h2><a href="/blog/prometheus/introduction/">Prometheus-简介</a></h2>
    
    
  </div>
</header>
    <div class="meta">
    <p title="Created" class="fas fa-calendar-plus">
        <time datetime="2021-09-24 00:00:00 &#43;0000 UTC">2021-09-24</time>
    </p>
    
        <p title="Author" class="fas fa-user">zylhorse
        </p>
    
    
        <p title="ReadingTime" class="fas fa-stopwatch">
            &lt;no value&gt;分钟
        </p>
    
    
        <p id="busuanzi_container_page_pv">
        <p id="busuanzi_value_page_pv" title="Vistors" class="fas fa-eye">
        </p>
        </p>
    
</div>
    <div class="content">
      
      <p><code>Prometheus</code>是一个开源的系统监控和报警工具，最初由<code>SoundCloud</code>构建。 从2012年开始编写，2015年开源后很多公司和组织采用<code>Prometheus</code>,
该项目有很多活跃的开发者和用户社区。现在<code>Prometheus</code>作为独立的开源项目， 独立于任何的公司。 为了强调这一点，并阐明该项目的组织结构，
<code>Prometheus</code>在2016年加入CNCF,成为继<code>Kubernetes</code>后的第二个成员。</p>
<p>了解更多的<code>Prometheus</code>信息，可以参考<a href="https://github.com/roaldnefs/awesome-prometheus">Awesome</a></p>
<h2 id="特性">特性</h2>
<ul>
<li>多维数据模型，其时间序列数据由<code>metric</code>名称和<code>labels</code>键值对构成</li>
<li><code>PromQL</code>是一种灵活的查询语句，来利用这个维度</li>
<li>不依赖分布式存储；单服务器节点是自治的， 支持<code>local</code>和<code>remote</code>多种模式</li>
<li>通过http协议的pull模式，采集时序数据</li>
<li>支持通过中间网关推送时序</li>
<li>监控目标，采用服务发现或者静态配置</li>
<li>支持多模式的图形和仪表盘展现</li>
</ul>
<h2 id="组件">组件</h2>
<p><code>Prometheus</code>生态由很多组件组成，它们大多数是可选的：</p>
<ul>
<li><a href="">Prometheus server</a>，它负责时序数据的收集和存储</li>
<li><a href="">Client libraries</a>,对接<code>Prometheus server</code>，上报和查询数据</li>
<li><a href="">push gateway</a>, 用于短期业务的监控数据推送</li>
<li><a href="">exporters</a>, 用于指定服务的exporter，e.g., <a href="">node exporter</a>, <a href="">redis exporter</a>, <a href="">mysql exporter</a></li>
<li><a href="">alertmanager</a>, 用于告警通知管理</li>
</ul>
<h2 id="架构">架构</h2>
<p>下图说明了<code>Prometheus</code>的基础架构和生态系统中的一些组件:</p>
<p><img src="/img/prometheus/architecture.png" alt="architecture"></p>
<p>从上图可以看到：</p>
<ol>
<li>监控目标, 可以是静态配置或者服务发现</li>
<li>获取<code>metrics</code>, 可以直接从监控目标拉取，或者拉取监控目标推送到<code>push gateway</code>的数据</li>
<li>当采样的数据大于配置的缓存区大小时，<code>Prometheus</code>将数据持久化到<code>local</code>或<code>remote</code></li>
<li>当配置<code>alert rules</code>时， <code>Prometheus</code>会定时查询数据，当规则被触发的时候，生成<code>alert</code>并推送到<code>Alertmanager</code></li>
<li><code>Alertmanager</code>收到<code>alert</code>， 根据配置对<code>alert</code>去重，聚合，降噪， 通过<code>email</code>,<code>pagerduty</code>等途径进行告警</li>
<li>使用<code>Prometheus web ui</code>,<code>Grafana</code>或<code>API</code>等对收集的数据进行可视化</li>
</ol>
<h2 id="适用于">适用于</h2>
<p><code>Prometheus</code>记录纯数字的时序数据。既适用于以机器为中心的监控，也适用于面向服务架构的监控。在微服务的世界里，
其优势是支持对多维数据的收集和查询。</p>
<p><code>Prometheus</code>是为可靠性设计的， 当系统在运行时出现问题时，可以帮助你快速的定位问题。每个<code>Prometheus</code>服务都是独立的，
不依赖于任何网络、存储或其它远程服务。 当其他基础设施出现问题时，你可以依赖它，并且使用<code>Prometheus</code>不需要安装额外的基础设施。</p>
<h2 id="不适用于">不适用于</h2>
<p><code>Prometheus</code>的值是可靠的。可以随时查看你系统的可用统计信息，即使在故障的条件下。如果你需要100%的精确度，例如每个请求的计费，
<code>Prometheus</code>不是一个很好的选择，因为其收集的信息不够详细和完整， 仅收集某个时间段的数据。在这种情况下，你最好使用专门的审计系统。</p>
<h2 id="总结">总结</h2>
<p><code>Prometheus</code>:</p>
<ol>
<li>作为一站式的监控告警平台， 依赖少， 功能完备。</li>
<li>支持对容器和服务的监控， 大多数监控平台主要是针对主机的监控</li>
<li><code>PromQL</code>语句简洁，内置强大的统计函数</li>
<li>在数据存储及持久性上没有InfluxDB等时序数据库强大。</li>
</ol>

      
    <h2>参考</h2>
    <ul>
        
            
                <li><a target="_blank" href="https://prometheus.io/docs/introduction/overview/">Prometheus introduction</a></li>
            
        
    </ul>

    </div>
    <footer>
      <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/prometheus/">Prometheus</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/"></a></li>
        
      
    </ul>
  
</div>

    </footer>
  </article>
  
    <aside id="toc">
      <div class="toc-title">目录</div>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#特性">特性</a></li>
    <li><a href="#组件">组件</a></li>
    <li><a href="#架构">架构</a></li>
    <li><a href="#适用于">适用于</a></li>
    <li><a href="#不适用于">不适用于</a></li>
    <li><a href="#总结">总结</a></li>
  </ul>
</nav>
    </aside>
  
  <div class="pagination">
    
      <a href="/blog/prometheus/datamodel/" class="button left"><span>Prometheus-数据模型</span></a>
    
    
      <a href="/blog/prometheus/deploy/" class="button right"><span>Prometheus-部署</span></a>
    
  </div>
  
    <hr/>
    
  <article class="ucomments">
    <script src="https://utteranc.es/client.js"
            repo=zylhorse/zylhorse.github.io
            issue-term=title
            label=Prometheus
            theme=github-light
            crossorigin="anonymous"
            async>
    </script>
  </article>



  

      <script src="/js/highlight.js"></script>
    
    <script>hljs.initHighlightingOnLoad();</script><script src="/js/bundle.min.ad234a7d27a481f0d6214513d28dbfbe759d77531bda10b3d393b978c983724c.js" integrity="sha256-rSNKfSekgfDWIUUT0o2/vnWdd1Mb2hCz05O5eMmDckw="></script>
    <script src="/js/add-on.js"></script>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    </main>









  </body>
</html>
